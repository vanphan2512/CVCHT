create or replace PROCEDURE   WORKSSUPPORT_PRO_V2_SEL_WORKID
/*
	Created by	:	Lýõng Trung Nhân 
	Date		:	19/06/2017
	Description	:	N?p thông tin Ti?n d? công vi?c c?n h? tr? 
*/
(	
	V_WORKSSUPPORTID IN EO_WORKSSUPPORT_PROGRESS.WORKSSUPPORTID%TYPE,	
	V_Out OUT SYS_REFCURSOR
) 
AS
BEGIN
    OPEN v_Out FOR
	SELECT
		PROGRESS.PROGRESSVALUE,
        STATUS.WORKSSUPPORTSTATUSNAME,
        (
            SELECT
                SYS_USER.FULLNAME
            FROM 
                SYS_USER
            WHERE 
                SYS_USER.USERNAME = PROGRESS.UPDATEDUSER
        ) AS FULLNAME,
		PROGRESS.UPDATEDDATE		
	FROM 
        EO_WORKSSUPPORT_PROGRESS PROGRESS
    INNER JOIN 
        EO_WORKSSUPPORTSTATUS STATUS
    ON
        PROGRESS.WORKSSUPPORTSTATUSID = STATUS.WORKSSUPPORTSTATUSID        
	WHERE
		PROGRESS.WORKSSUPPORTID = V_WORKSSUPPORTID;
END;